<template>
  <div class="gauge-wrap">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 450 350" width="450" height="350" style="user-select: none;">
      <g>
        <path d="M 120.7017 279.2983 A 5 5 0 0 1 113.6307 286.3693 A 157.5 157.5 0 0 1 97.5798 82.4238 M 97.5798 82.4238 A 5 5 0 0 1 105.67 88.3017 A 147.5 147.5 0 0 0 120.7017 279.2983 M 120.7017 88.3017 Z" fill="#61CAD7" fill-opacity="1" stroke="none"></path>

        <path d="M 105.67 88.3017 A 5 5 0 1 1 97.5798 82.4238 A 157.5 157.5 0 0 1 352.4202 82.4238 M 352.4202 82.4238 A 5 5 0 1 1 344.33 88.3017 A 147.5 147.5 0 0 0 105.67 88.3017 M 105.67 88.3017 Z" fill="#ff976a" fill-opacity="1" stroke="none"></path>

        <path d="M 344.33 88.3017 A 5 5 0 1 1 352.4202 82.4238 A 157.5 157.5 0 0 1 336.3693 286.3693 M 336.3693 286.3693 A 5 5 0 1 1 329.2983 279.2983 A 147.5 147.5 0 0 0 344.33 88.3017 M 344.33 279.2983 Z" fill="#ff5928" fill-opacity="1" stroke="none"></path>

        <path d="M 124.9444 275.0556 L 132.0155 267.9845" fill="none" stroke="#61CAD7" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
                <text xml:space="preserve" fill="#61CAD7" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="start" x="135.5509921799017" y="264.44900782009825" style="font: 12px sans-serif;">0</text>

        <path d="M 124.9444 275.0556 L 129.187 270.813" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>

        <path d="M 115.9724 265.1955 L 120.5955 261.371" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>

        <path d="M 107.9681 254.5348 L 112.9306 251.1623" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>

        <path d="M 101.0026 243.1681 L 106.2604 240.2776" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>

        <path d="M 95.1377 231.1964 L 100.6442 228.8135" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 90.4255 218.7259 L 96.1318 216.8718" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 90.4255 218.7259 L 99.9361 215.6357" fill="none" stroke="#61CAD7" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path><text xml:space="preserve" fill="#61CAD7" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="start" x="104.69135068866308" y="214.09064978843088" style="font: 12px sans-serif;">10</text>
        <path d="M 90.4255 218.7259 L 96.1318 216.8718" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 86.9078 205.8673 L 92.7633 204.5584" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 84.6158 192.7347 L 90.5685 191.9827" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 83.5698 179.4446 L 89.5669 179.2562" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 83.7792 166.1151 L 89.7674 166.4919" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 85.2421 152.8645 L 91.1682 153.8031" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 85.2421 152.8645 L 95.119 154.4289" fill="none" stroke="#61CAD7" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path><text xml:space="preserve" fill="#61CAD7" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="start" x="100.05742491471506" y="155.2110401724109" style="font: 12px sans-serif;">20</text>
        <path d="M 85.2421 152.8645 L 91.1682 153.8031" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 87.9455 139.8104 L 93.757 141.3025" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 91.8654 127.0686 L 97.5107 129.101" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 96.967 114.7522 L 102.3959 117.3069" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 103.205 102.9706 L 108.3695 106.0249" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 110.5241 91.8284 L 115.3782 95.3551" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 110.5241 91.8284 L 118.6143 97.7062" fill="none" stroke="#61CAD7" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path><text xml:space="preserve" fill="#61CAD7" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="start" x="122.65935021156906" y="100.64516558500227" style="font: 12px sans-serif;">30</text>
        <path d="M 110.5241 91.8284 L 115.3782 95.3551" fill="none" stroke="#61CAD7" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 118.8593 81.4244 L 123.36 85.3922" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 128.1366 71.8509 L 132.2439 76.2248" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 138.2737 63.1931 L 141.9511 67.934" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 149.1805 55.5276 L 152.3955 60.5936" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 160.7603 48.9226 L 163.4843 54.2686" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 160.7603 48.9226 L 165.3002 57.8326" fill="none" stroke="#ff976a" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path><text xml:space="preserve" fill="#ff976a" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="start" x="167.57020178294715" y="68.28767469017156" style="font: 12px sans-serif;">40</text>
        <path d="M 160.7603 48.9226 L 163.4843 54.2686" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 172.9104 43.4366 L 175.1191 49.0153" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 185.5228 39.1184 L 187.1967 44.8802" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 198.4855 36.0064 L 199.6098 41.9001" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 211.6837 34.128 L 212.2483 40.1014" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 225 33.5 L 225 39.5" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 225 33.5 L 225 43.5" fill="none" stroke="#ff976a" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path><text xml:space="preserve" fill="#ff976a" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="middle" x="224.99999999999972" y="54.5" style="font: 12px sans-serif;">50</text>
        <path d="M 225 33.5 L 225 39.5" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 238.3163 34.128 L 237.7517 40.1014" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 251.5145 36.0064 L 250.3902 41.9001" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 264.4772 39.1184 L 262.8033 44.8802" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 277.0896 43.4366 L 274.8809 49.0153" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 289.2397 48.9226 L 286.5157 54.2686" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 289.2397 48.9226 L 284.6998 57.8326" fill="none" stroke="#ff976a" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path><text xml:space="preserve" fill="#ff976a" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="end" x="282.4297982170524" y="68.28767469017131" style="font: 12px sans-serif;">60</text>
        <path d="M 289.2397 48.9226 L 286.5157 54.2686" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 300.8195 55.5276 L 297.6045 60.5936" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 311.7263 63.1931 L 308.0489 67.934" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 321.8634 71.8509 L 317.7561 76.2248" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 331.1407 81.4244 L 326.64 85.3922" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 339.4759 91.8284 L 334.6218 95.3551" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 339.4759 91.8284 L 331.3857 97.7062" fill="none" stroke="#ff976a" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path><text xml:space="preserve" fill="#ff976a" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="end" x="327.34064978843065" y="100.64516558500188" style="font: 12px sans-serif;">70</text>
        <path d="M 339.4759 91.8284 L 334.6218 95.3551" fill="none" stroke="#ff976a" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 346.795 102.9706 L 341.6305 106.0249" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 353.033 114.7522 L 347.6041 117.3069" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 358.1346 127.0686 L 352.4893 129.101" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 362.0545 139.8104 L 356.243 141.3025" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 364.7579 152.8645 L 358.8318 153.8031" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 364.7579 152.8645 L 354.881 154.4289" fill="none" stroke="#ff5928" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path><text xml:space="preserve" fill="#ff5928" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="end" x="349.9425750852849" y="155.21104017241046" style="font: 12px sans-serif;">80</text>
        <path d="M 364.7579 152.8645 L 358.8318 153.8031" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 366.2208 166.1151 L 360.2326 166.4919" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 366.4302 179.4446 L 360.4331 179.2562" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 365.3842 192.7347 L 359.4315 191.9827" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 363.0922 205.8673 L 357.2367 204.5584" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 359.5745 218.7259 L 353.8682 216.8718" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 359.5745 218.7259 L 350.0639 215.6357" fill="none" stroke="#ff5928" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path><text xml:space="preserve" fill="#ff5928" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="end" x="345.30864931133704" y="214.09064978843054" style="font: 12px sans-serif;">90</text>
        <path d="M 359.5745 218.7259 L 353.8682 216.8718" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 354.8623 231.1964 L 349.3558 228.8135" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 348.9974 243.1681 L 343.7396 240.2776" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 342.0319 254.5348 L 337.0694 251.1623" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 334.0276 265.1955 L 329.4045 261.371" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 325.0556 275.0556 L 320.813 270.813" fill="none" stroke="#ff5928" stroke-width="1" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path>
        <path d="M 325.0556 275.0556 L 317.9845 267.9845" fill="none" stroke="#ff5928" stroke-width="3" paint-order="fill" stroke-opacity="1" stroke-dasharray="" stroke-linecap="butt" stroke-miterlimit="10"></path><text xml:space="preserve" fill="#ff5928" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="end" x="314.4490078200985" y="264.449007820098" style="font: 12px sans-serif;">100</text><text xml:space="preserve" fill="#464646" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="middle" x="225" y="206.5" style="font: 16px sans-serif;">Memory</text>
        <path d="M 165 218 L 285 218 L 285 258 L 165 258 L 165 218" fill="rgba(0,0,0,0)" fill-opacity="1" stroke="none"></path>
            <text xml:space="preserve" :fill="getColor()" fill-opacity="1" stroke="none" dominant-baseline="central" text-anchor="middle" x="225" y="238" style="font: bold 30px sans-serif;">{{ value }} %</text>
        <path d="M 0 12 L -6 0 L 0 -94.5 L 6 0 L 0 12" :fill="getColor()" fill-opacity="1" stroke="none" style="transition: transform .3s linear" :transform="getMatrix()"></path>
      </g>
    </svg>
  </div>
</template>

<script>
export default {
  name: 'gauge',
  props: {
    value: {
      type: Number,
      default: 0
    }
  },
  data () {
    return {
    }
  },
  mounted () {
    this.$nextTick(() => {
    })
  },
  methods: {
    getMatrix () {
      let val = this.value
      if (this.value > 100) {
        val = 100
      } else if (this.value < 0) {
        val = 0
      }
      val = 270 * (val / 100) + 45
      let [cosVal, sinVal] = [Math.cos(val * Math.PI / 180).toFixed(3), Math.sin(val * Math.PI / 180).toFixed(3)]
      let valTransform = `matrix(${-cosVal}, ${-sinVal}, ${(sinVal)}, ${-cosVal}, 225, 175)`
      return valTransform
    },
    getColor () {
      if (this.value <= 30) {
        return '#61CAD7'
      }
      if (this.value <= 70) {
        return '#ff976a'
      }
      return '#ff5928'
    }
  }
}
</script>

<style lang="less" scoped>
.gauge-wrap {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  svg {
    width: 100%;
    height: auto;
  }
}
</style>
